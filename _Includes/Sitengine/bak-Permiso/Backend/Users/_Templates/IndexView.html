<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<!-- Document Created By Christian Hoegl - sitengine.org -->

<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta http-equiv="Pragma" content="no-cache" />
<meta name="robots" content="noindex, nofollow" />

<title>Sitengine - <?=$this->html($this->DICTIONARY->LABELS->entityTitle);?></title>

<link rel="stylesheet" type="text/css" href="<?=$this->_controller->getEnv()->getMediaRequestDir();?>/Backend/Styles/Global.css" />
<link rel="stylesheet" type="text/css" href="<?=$this->_controller->getEnv()->getMediaRequestDir();?>/Backend/Styles/Lists.css" />
<script language="JavaScript" type="text/JavaScript" src="<?=$this->_controller->getEnv()->getMediaRequestDir();?>/Global.js"></script>

</head>
<body>


<div id="screen">
<?require 'Sitengine/Env/_Templates/HeaderSection.html';?>
<?require 'Sitengine/Env/_Templates/BreadcrumbsSection.html';?>
<?require 'Sitengine/Env/_Templates/AbstractSection.html';?>
<?require 'Sitengine/Env/_Templates/ActionsSection.html';?>
<?require 'Sitengine/Env/_Templates/StatusSection.html';?>






<div class="mainSectionLevel1">




<div class="mainSectionHeader">
<h2 class="mainSectionTitle"><?=$this->html($this->SECTIONS->USERLIST->title);?></h2>
</div>





<div class="filter">
<?if($this->SECTIONS->USERLIST->FILTER->isActive):?>
    <div class="filterOn">
<?else:?>
    <div class="filterOff">
<?endif;?>

<form method="get" action="<?=$this->_controller->getEnv()->getUriSelfSubmit();?>" name="filterform" class="filterform">
<?=$this->SECTIONS->USERLIST->FILTER->hiddens;?>
<?foreach($this->SECTIONS->USERLIST->FILTER->ELEMENTS as $v):?><?=$v;?><?endforeach;?>

<input type="button" value="<?=$this->html($this->DICTIONARY->LABELS->filterSectionSubmit);?>" onclick="document.filterform.submit();" />
<input type="button" value="<?=$this->html($this->DICTIONARY->LABELS->filterSectionReset);?>" onclick="window.location = '<?=$this->SECTIONS->USERLIST->FILTER->uriReset;?>';" />

</form>
</div>
</div>







<?if(!sizeof($this->SECTIONS->USERLIST->DATA)):?>


<div class="listformNoRecords">
<?if($this->SECTIONS->USERLIST->FILTER->isActive):?>
    <span><?=$this->html($this->DICTIONARY->LABELS->listformNoMatchingRecords);?></span><br />
    <?=$this->html($this->DICTIONARY->LABELS->listformFilterIsActive);?>
<?else:?>
    <span><?=$this->html($this->DICTIONARY->LABELS->listformNoRecords);?></span>
<?endif;?>
</div>


<?else:?>





<div class="listformAndControlsWrap">




<table width="100%" class="listControlsTop">
<tr><td valign="bottom"></td><td align="right" valign="bottom">

<?$pagerAction = $this->_controller->getEnv()->getUriSelfSubmit();?>
<?$pagerHiddens = $this->SECTIONS->USERLIST->PAGER->hiddens;?>
<?$pagerCurrPageInput = $this->SECTIONS->USERLIST->PAGER->currPageInput;?>
<?$pagerCurrPage = $this->SECTIONS->USERLIST->PAGER->currPage;?>
<?$pagerNextPage = $this->SECTIONS->USERLIST->PAGER->nextPage;?>
<?$pagerPrevPage = $this->SECTIONS->USERLIST->PAGER->prevPage;?>
<?$pagerNumPages = $this->SECTIONS->USERLIST->PAGER->numPages;?>
<?$pagerNumItems = $this->SECTIONS->USERLIST->PAGER->numItems;?>
<?$pagerFirstItem = $this->SECTIONS->USERLIST->PAGER->firstItem;?>
<?$pagerLastItem = $this->SECTIONS->USERLIST->PAGER->lastItem;?>
<?$pagerUriPrevPage = $this->SECTIONS->USERLIST->PAGER->uriPrevPage;?>
<?$pagerUriNextPage = $this->SECTIONS->USERLIST->PAGER->uriNextPage;?>
<?$pagerPrevLabel = $this->DICTIONARY->LABELS->pagerPreviousPage;?>
<?$pagerNextLabel = $this->DICTIONARY->LABELS->pagerNextPage;?>
<?$pagerOfLabel = $this->DICTIONARY->LABELS->pagerOf;?>
<?$pagerPageLabel = $this->DICTIONARY->LABELS->pagerPage;?>
<?$pagerPagesLabel = $this->DICTIONARY->LABELS->pagerPages;?>
<?$pagerEntityLabel = $this->DICTIONARY->LABELS->pagerEntity;?>
<?$pagerValClass = "pagerVal";?>
<?$pagerTextClass = "pagerText";?>
<?$pagerHrefPrevClass = "pagerHrefPrev";?>
<?$pagerHrefNextClass = "pagerHrefNext";?>
<?$pagerFormName = "pagerTop";?>
<?$pagerFormClass = "pagerTop";?>

<?require 'Sitengine/Env/_Templates/PagerSection.html';?>


</td></tr></table>







<form method="post" action="<?=$this->_controller->getEnv()->getUriSelfSubmit();?>" name="listform" class="listform">
<?=$this->SECTIONS->USERLIST->hiddens;?>
<table class="listformTable" cellpadding="0" cellspacing="0">


<tr class="listformTitleRow">
<th valign="top" class="listformCheckboxCell"><input type="checkbox" onclick="setCheckboxes(this.checked,document.listform,'SELECTROWITEM');" /></th>

<th valign="top"><a href="<?=$this->SECTIONS->USERLIST->SORTING->QUERIES->onlineNow;?>" title="<?=$this->html($this->DICTIONARY->LABELS->listformColumnSortHref);?>"><?=$this->html($this->DICTIONARY->COLUMNS->onlineNow);?></a>
&nbsp;<img src="<?=$this->_controller->getEnv()->getMediaRequestDir();?>/Backend/Pics/Sort_<?=$this->SECTIONS->USERLIST->SORTING->COLUMNS->onlineNow;?>.gif" width="8" height="10" border="0" alt="" /></th>

<th valign="top"><a href="<?=$this->SECTIONS->USERLIST->SORTING->QUERIES->name;?>" title="<?=$this->html($this->DICTIONARY->LABELS->listformColumnSortHref);?>"><?=$this->html($this->DICTIONARY->COLUMNS->name);?></a>
&nbsp;<img src="<?=$this->_controller->getEnv()->getMediaRequestDir();?>/Backend/Pics/Sort_<?=$this->SECTIONS->USERLIST->SORTING->COLUMNS->name;?>.gif" width="8" height="10" border="0" alt="" /></th>

<th valign="top"><a href="<?=$this->SECTIONS->USERLIST->SORTING->QUERIES->nickname;?>" title="<?=$this->html($this->DICTIONARY->LABELS->listformColumnSortHref);?>"><?=$this->html($this->DICTIONARY->COLUMNS->nickname);?></a>
&nbsp;<img src="<?=$this->_controller->getEnv()->getMediaRequestDir();?>/Backend/Pics/Sort_<?=$this->SECTIONS->USERLIST->SORTING->COLUMNS->nickname;?>.gif" width="8" height="10" border="0" alt="" /></th>

<th valign="top"><a href="<?=$this->SECTIONS->USERLIST->SORTING->QUERIES->firstname;?>" title="<?=$this->html($this->DICTIONARY->LABELS->listformColumnSortHref);?>"><?=$this->html($this->DICTIONARY->COLUMNS->firstname);?></a>
&nbsp;<img src="<?=$this->_controller->getEnv()->getMediaRequestDir();?>/Backend/Pics/Sort_<?=$this->SECTIONS->USERLIST->SORTING->COLUMNS->firstname;?>.gif" width="8" height="10" border="0" alt="" /></th>

<th valign="top"><a href="<?=$this->SECTIONS->USERLIST->SORTING->QUERIES->lastname;?>" title="<?=$this->html($this->DICTIONARY->LABELS->listformColumnSortHref);?>"><?=$this->html($this->DICTIONARY->COLUMNS->lastname);?></a>
&nbsp;<img src="<?=$this->_controller->getEnv()->getMediaRequestDir();?>/Backend/Pics/Sort_<?=$this->SECTIONS->USERLIST->SORTING->COLUMNS->lastname;?>.gif" width="8" height="10" border="0" alt="" /></th>

<th valign="top"><a href="<?=$this->SECTIONS->USERLIST->SORTING->QUERIES->language;?>" title="<?=$this->html($this->DICTIONARY->LABELS->listformColumnSortHref);?>"><?=$this->html($this->DICTIONARY->COLUMNS->language);?></a>
&nbsp;<img src="<?=$this->_controller->getEnv()->getMediaRequestDir();?>/Backend/Pics/Sort_<?=$this->SECTIONS->USERLIST->SORTING->COLUMNS->language;?>.gif" width="8" height="10" border="0" alt="" /></th>

<th valign="top"><a href="<?=$this->SECTIONS->USERLIST->SORTING->QUERIES->enabled;?>" title="<?=$this->html($this->DICTIONARY->LABELS->listformColumnSortHref);?>"><?=$this->html($this->DICTIONARY->COLUMNS->enabled);?></a>
&nbsp;<img src="<?=$this->_controller->getEnv()->getMediaRequestDir();?>/Backend/Pics/Sort_<?=$this->SECTIONS->USERLIST->SORTING->COLUMNS->enabled;?>.gif" width="8" height="10" border="0" alt="" /></th>

<th valign="top"><a href="<?=$this->SECTIONS->USERLIST->SORTING->QUERIES->locked;?>" title="<?=$this->html($this->DICTIONARY->LABELS->listformColumnSortHref);?>"><?=$this->html($this->DICTIONARY->COLUMNS->locked);?></a>
&nbsp;<img src="<?=$this->_controller->getEnv()->getMediaRequestDir();?>/Backend/Pics/Sort_<?=$this->SECTIONS->USERLIST->SORTING->COLUMNS->locked;?>.gif" width="8" height="10" border="0" alt="" /></th>

<th valign="top"><?=$this->html($this->DICTIONARY->COLUMNS->membershipAction);?></th>

<th valign="top" class="listformNumberCell" title="<?=$this->html($this->DICTIONARY->LABELS->listformColumnSortHref);?>"><img src="<?=$this->_controller->getEnv()->getMediaRequestDir();?>/Backend/Pics/Sort_<?=$this->SECTIONS->USERLIST->SORTING->COLUMNS->lastLogin;?>.gif" width="8" height="10" border="0" alt="" />&nbsp;<a href="<?=$this->SECTIONS->USERLIST->SORTING->QUERIES->lastLogin;?>"><?=$this->html($this->DICTIONARY->COLUMNS->lastLogin);?></a>&nbsp;</th>

</tr>




<?foreach($this->SECTIONS->USERLIST->DATA as $row):?>
<?$rowSelectCheckbox = $row->rowSelectCheckbox;?>
<?$id = $this->html($row->id);?>
<?$mdate = $row->mdate;?>
<?$name = $this->html($row->name);?>
<?$nickname = $this->html($row->nickname);?>
<?$firstname = $this->html($row->firstname);?>
<?$lastname = $this->html($row->lastname);?>
<?$language = $this->html($row->language);?>

<?$lockedCheckbox = $row->lockedCheckbox;?>
<?$enabledCheckbox = $row->enabledCheckbox;?>

<?$uriUpdate = $row->uriUpdate;?>
<?$isMarked = $row->isMarked;?>
<?$onlineNow = $row->onlineNow;?>

<?$childCount = $this->html($row->childCount);?>
<?$uriChildIndex = $row->uriChildIndex;?>
<?$uriChildInsert = $row->uriChildInsert;?>

<?
	$lastLogin = '---';
	
	require_once 'Zend/Date.php';
	if(Zend_Date::isDate($row->lastLogin, 'yyyy-MM-dd HH:mm:ss'))
	{
		$date = new Zend_Date($row->lastLogin, 'yyyy-MM-dd HH:mm:ss');
		$date->setTimezone($this->_controller->getPreferences()->getTimezone());
		$lastLogin = $date->get(Zend_Date::DATE_LONG, $this->_controller->getLocale());
		$lastLogin .= ' '.$date->get(Zend_Date::TIME_LONG, $this->_controller->getLocale());
	}
?>



<?if($isMarked):?>
    <?$rowClass = "listformMarkedRow";?>
<?else:?>
    <?$rowClass = "listformDataRow";?>
<?endif;?>

<tr class="<?=$rowClass;?>">
<td valign="top"><?=$rowSelectCheckbox;?></td>
<td valign="top"><?=$onlineNow;?></td>
<td valign="top"><a href="<?=$uriUpdate;?>" class="listformDataTitle"><?=$name;?></a></td>
<td valign="top"><?=$nickname;?></td>
<td valign="top"><?=$firstname;?></td>
<td valign="top"><?=$lastname;?></td>
<td valign="top"><?=$language;?></td>
<td valign="top"><?=$enabledCheckbox;?></td>
<td valign="top"><?=$lockedCheckbox;?></td>

<td valign="top">
<a href="<?=$uriChildInsert;?>" class="listformDataHref"><?=$this->html($this->DICTIONARY->LABELS->listformMembershipsInsert);?></a>
<?if($childCount):?>
 | <a href="<?=$uriChildIndex;?>" class="listformDataHref"><?=$this->html($this->DICTIONARY->LABELS->listformMembershipsIndex);?></a> (<?=$childCount;?>)
<?endif;?>
</td>

<td valign="top" class="listformNumberCell"><?=$lastLogin;?></td>
</tr>

<?endforeach;?>




<tr class="listformTitleRow">
<th valign="top" class="listformCheckboxCell"><input type="checkbox" onclick="setCheckboxes(this.checked,document.listform,'SELECTROWITEM');" /></th>

<th valign="top"><a href="<?=$this->SECTIONS->USERLIST->SORTING->QUERIES->onlineNow;?>" title="<?=$this->html($this->DICTIONARY->LABELS->listformColumnSortHref);?>"><?=$this->html($this->DICTIONARY->COLUMNS->onlineNow);?></a>
&nbsp;<img src="<?=$this->_controller->getEnv()->getMediaRequestDir();?>/Backend/Pics/Sort_<?=$this->SECTIONS->USERLIST->SORTING->COLUMNS->onlineNow;?>.gif" width="8" height="10" border="0" alt="" /></th>

<th valign="top"><a href="<?=$this->SECTIONS->USERLIST->SORTING->QUERIES->name;?>" title="<?=$this->html($this->DICTIONARY->LABELS->listformColumnSortHref);?>"><?=$this->html($this->DICTIONARY->COLUMNS->name);?></a>
&nbsp;<img src="<?=$this->_controller->getEnv()->getMediaRequestDir();?>/Backend/Pics/Sort_<?=$this->SECTIONS->USERLIST->SORTING->COLUMNS->name;?>.gif" width="8" height="10" border="0" alt="" /></th>

<th valign="top"><a href="<?=$this->SECTIONS->USERLIST->SORTING->QUERIES->nickname;?>" title="<?=$this->html($this->DICTIONARY->LABELS->listformColumnSortHref);?>"><?=$this->html($this->DICTIONARY->COLUMNS->nickname);?></a>
&nbsp;<img src="<?=$this->_controller->getEnv()->getMediaRequestDir();?>/Backend/Pics/Sort_<?=$this->SECTIONS->USERLIST->SORTING->COLUMNS->nickname;?>.gif" width="8" height="10" border="0" alt="" /></th>

<th valign="top"><a href="<?=$this->SECTIONS->USERLIST->SORTING->QUERIES->firstname;?>" title="<?=$this->html($this->DICTIONARY->LABELS->listformColumnSortHref);?>"><?=$this->html($this->DICTIONARY->COLUMNS->firstname);?></a>
&nbsp;<img src="<?=$this->_controller->getEnv()->getMediaRequestDir();?>/Backend/Pics/Sort_<?=$this->SECTIONS->USERLIST->SORTING->COLUMNS->firstname;?>.gif" width="8" height="10" border="0" alt="" /></th>

<th valign="top"><a href="<?=$this->SECTIONS->USERLIST->SORTING->QUERIES->lastname;?>" title="<?=$this->html($this->DICTIONARY->LABELS->listformColumnSortHref);?>"><?=$this->html($this->DICTIONARY->COLUMNS->lastname);?></a>
&nbsp;<img src="<?=$this->_controller->getEnv()->getMediaRequestDir();?>/Backend/Pics/Sort_<?=$this->SECTIONS->USERLIST->SORTING->COLUMNS->lastname;?>.gif" width="8" height="10" border="0" alt="" /></th>

<th valign="top"><a href="<?=$this->SECTIONS->USERLIST->SORTING->QUERIES->language;?>" title="<?=$this->html($this->DICTIONARY->LABELS->listformColumnSortHref);?>"><?=$this->html($this->DICTIONARY->COLUMNS->language);?></a>
&nbsp;<img src="<?=$this->_controller->getEnv()->getMediaRequestDir();?>/Backend/Pics/Sort_<?=$this->SECTIONS->USERLIST->SORTING->COLUMNS->language;?>.gif" width="8" height="10" border="0" alt="" /></th>

<th valign="top"><a href="<?=$this->SECTIONS->USERLIST->SORTING->QUERIES->enabled;?>" title="<?=$this->html($this->DICTIONARY->LABELS->listformColumnSortHref);?>"><?=$this->html($this->DICTIONARY->COLUMNS->enabled);?></a>
&nbsp;<img src="<?=$this->_controller->getEnv()->getMediaRequestDir();?>/Backend/Pics/Sort_<?=$this->SECTIONS->USERLIST->SORTING->COLUMNS->enabled;?>.gif" width="8" height="10" border="0" alt="" /></th>

<th valign="top"><a href="<?=$this->SECTIONS->USERLIST->SORTING->QUERIES->locked;?>" title="<?=$this->html($this->DICTIONARY->LABELS->listformColumnSortHref);?>"><?=$this->html($this->DICTIONARY->COLUMNS->locked);?></a>
&nbsp;<img src="<?=$this->_controller->getEnv()->getMediaRequestDir();?>/Backend/Pics/Sort_<?=$this->SECTIONS->USERLIST->SORTING->COLUMNS->locked;?>.gif" width="8" height="10" border="0" alt="" /></th>

<th valign="top"><?=$this->html($this->DICTIONARY->COLUMNS->membershipAction);?></th>

<th valign="top" class="listformNumberCell" title="<?=$this->html($this->DICTIONARY->LABELS->listformColumnSortHref);?>"><img src="<?=$this->_controller->getEnv()->getMediaRequestDir();?>/Backend/Pics/Sort_<?=$this->SECTIONS->USERLIST->SORTING->COLUMNS->lastLogin;?>.gif" width="8" height="10" border="0" alt="" />&nbsp;<a href="<?=$this->SECTIONS->USERLIST->SORTING->QUERIES->lastLogin;?>"><?=$this->html($this->DICTIONARY->COLUMNS->lastLogin);?></a>&nbsp;</th>

</tr>

</table>
</form>









<table width="100%" class="listControlsBottom"><tr><td valign="top">

<input type="button" value="<?=$this->html($this->DICTIONARY->LABELS->listformBatchUpdateSubmit);?>" onclick="doConfirmedSubmit(document.listform, '<?=$this->SECTIONS->USERLIST->URIS->submitDoBatchUpdate;?>', '<?=$this->DICTIONARY->LABELS->listformConfirmUpdate;?>');" />
<input type="button" value="<?=$this->html($this->DICTIONARY->LABELS->listformBatchDeleteSubmit);?>" onclick="doConfirmedSubmit(document.listform, '<?=$this->SECTIONS->USERLIST->URIS->submitDoBatchDelete;?>', '<?=$this->DICTIONARY->LABELS->listformConfirmDelete;?>');" />

</td><td valign="top" align="right">

<?$pagerFormName = "pagerBottom";?>
<?$pagerFormClass = "pagerBottom";?>
<?require 'Sitengine/Env/_Templates/PagerSection.html';?>

</td></tr></table>


</div>




<div class="settings">

<?if($this->SECTIONS->USERLIST->SETTINGS->isActive):?>
    <div class="settingsOn">
<?else:?>
    <div class="settingsOff">
<?endif;?>

<form method="get" action="<?=$this->_controller->getEnv()->getUriSelfSubmit();?>" name="settingsForm" class="settingsForm">
<?=$this->SECTIONS->USERLIST->SETTINGS->hiddens;?>
<?foreach($this->SECTIONS->USERLIST->SETTINGS->ELEMENTS as $v):?><?=$v;?><?endforeach;?>

<script type="text/javascript" language="Javascript">
//<![CDATA[
//<!--
if(document.settingsForm.ipp) {
	document.settingsForm.ipp.onchange = function() { document.settingsForm.submit(); }
}
if(document.settingsForm.t) {
	document.settingsForm.t.onchange = function() { document.settingsForm.submit(); }
}
//-->
//]]>
</script>

</form>
</div>
</div>



<?endif;?>

</div>





<?require 'Sitengine/Env/_Templates/FooterSection.html';?>
</div>
</body>
</html>

<!-- Document Created By Christian Hoegl - sitengine.org -->